<?xml version="1.0"?>

<system>
	<channel name="Auxiliary computations">
		<fcs_function name="accelerations/a-pilot-ft_sec2">
		<function>
		<pow>
		<sum>
		<pow>
			<property>accelerations/a-pilot-x-ft_sec2</property>
			<value>2.0</value>	
		</pow>
		<pow>
			<property>accelerations/a-pilot-y-ft_sec2</property>
			<value>2.0</value>	
		</pow>
		<pow>
			<property>accelerations/a-pilot-z-ft_sec2</property>
			<value>2.0</value>	
		</pow>
		</sum>
		<value>0.5</value>
		</pow>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/heat-rate-W_m2">
		<function>
			<max>			
			<product>
				<property>aero/qbar-psf</property>
				<property>velocities/u-aero-fps</property>
				<!-- get this into SI units of J/s-->
				<value>47.88</value>
				<value>0.3048</value>
			</product>
			<value>0.0</value>
			</max>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/nose-temperature-K">
		<function>	
			<pow>
			<product>
				<table>
				<!-- the energy transfer from the shockwave -->
				<independentVar lookup="row">aero/alpha-rad</independentVar>
				<tableData>
					0.0	0.02
					0.2	0.01
					0.4	0.008
					0.7	0.005
				</tableData>
				</table>
				<quotient>
					<property>systems/thermal/heat-rate-W_m2</property>
					<value>5.68e-8</value>
				</quotient>	
			</product>
			<value>0.25</value>
			</pow>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/nose-temperature-F">
		<function>
			<sum>
				<product>
				<difference>
					<property>systems/thermal/nose-temperature-K</property>
					<value>273.15</value>
				</difference>
				<value>1.8</value>
				</product>
				<value>32.0</value>
			</sum>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/nose-temperature-F-hundreds">
		<function>
			<integer>	
				<quotient>
					<property>systems/thermal/nose-temperature-F</property>
					<value>100.0</value>
				</quotient>
			</integer>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/nose-temperature-F-indicated">
		<function>
			<product>
			<value>100.0</value>
			<table>
				<independentVar lookup="row">systems/thermal/nose-temperature-F-hundreds</independentVar>
				<tableData>
					-1.0		0.0
					0.0		0.0
					9999.0		9999.0
					10000.0		9999.0
				</tableData>
			</table>
			</product>
		</function>
		</fcs_function>

	</channel>
</system>
