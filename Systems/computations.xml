<?xml version="1.0"?>

<system>
	<channel name="Auxiliary computations">
		<fcs_function name="accelerations/a-pilot-ft_sec2">
		<function>
		<pow>
		<sum>
		<pow>
			<property>accelerations/a-pilot-x-ft_sec2</property>
			<value>2.0</value>	
		</pow>
		<pow>
			<property>accelerations/a-pilot-y-ft_sec2</property>
			<value>2.0</value>	
		</pow>
		<pow>
			<property>accelerations/a-pilot-z-ft_sec2</property>
			<value>2.0</value>	
		</pow>
		</sum>
		<value>0.5</value>
		</pow>
		</function>
		</fcs_function>

		<fcs_function name="accelerations/a-centrifugal-ft_sec2">
		<function>
		<quotient>
			<sum>
				<pow>
					<property>velocities/v-east-fps</property>
					<value>2.0</value>
				</pow>
				<pow>
					<property>velocities/v-north-fps</property>
					<value>2.0</value>
				</pow>
			</sum>
			<property>position/eci-norm-ft</property>
		</quotient>
		</function>
		</fcs_function>

		<fcs_function name="velocities/course-deg">
		<function>
			<product>
			<atan2>
				<property>velocities/v-east-fps</property>
				<property>velocities/v-north-fps</property>
			</atan2>
			<value>57.29578</value>
			</product>
		</function>
		</fcs_function>

		<!-- this is a parametrization agreeing roughly with Shuttle, Blackbird and Concorde numbers -->
		<fcs_function name="systems/thermal/nose-temperature1-K">
		<function>	
			<product>
			<pow>
			<max>
			<product>
				<pow>
					<property>velocities/u-aero-fps</property>
					<value>3.0</value>
				</pow>
				<pow>
					<property>atmosphere/rho-slugs_ft3</property>
					<value>0.1</value>
				</pow>
			</product>
			<value>0.0</value>
			</max>
			<value>0.25</value>
			</pow>
			<table>
				<!-- radiative equilibrium requires sufficient energy intake-->
				<independentVar lookup="row">aero/qbar-psf</independentVar>
				<tableData>
					0.0	0.0
					0.01	0.1
					0.1	0.25
					1.0	1.0
				</tableData>
			</table>
			<table>
				<!-- the energy transfer coeff from the shockwave is AoA dependent-->
				<independentVar lookup="row">aero/alpha-rad</independentVar>
				<tableData>
					0.0	1.3
					0.2	1.1
					0.4	1.05
					0.7	1.0
				</tableData>
			</table>
			<value>1.6</value> <!-- overall norm -->
			</product>
		</function>
		</fcs_function>


		<!-- parametrization based on Columbia in-situ data -->
		<!-- this predicts a steady-state temperature of 602 F for the SR-71 at 85.000 ft and Mach 3.2 -->
		<!-- and 409 F for the Concorde at 54.000 ft at Mach 2.04  which is in the right ballpark -->
		<!-- once a convective cooling term is included -->

		<fcs_function name="systems/thermal/nose-temperature-K">
		<function>	
			<product>
				<property>systems/thermal/temperature-norm</property>
				<value>1675.0</value>
				<pow>
					<property>velocities/mach</property>
					<value>1.5</value>
				</pow>
				<pow>
					<property>atmosphere/rho-slugs_ft3</property>
					<value>0.3</value>
				</pow>
				<table>
				<!-- the energy transfer coeff from the shockwave is AoA dependent-->
				<independentVar lookup="row">aero/alpha-rad</independentVar>
				<tableData>
					0.4	1.3
					0.5	1.1
					0.6	1.05
					0.65	1.0
					0.75	1.0
					0.8	1.05
					0.9	1.1
					1.0	1.3
				</tableData>
			</table>
			</product>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/thermal-stress-arg">
		<function>
			<quotient>
				<max>
				<difference>
					<property>systems/thermal/nose-temperature-K</property>
					<value>1500.0</value>
				</difference>
				<value>0.0</value>
				</max>
			<value>40000.0</value>
			</quotient>
		</function>
		</fcs_function>

		<pid name="systems/thermal/thermal-stress-integrated">
			<input>systems/thermal/thermal-stress-arg</input>
			<kp> 0.0 </kp>
			<ki> 1.0 </ki>
			<kd> 0.0</kd>
			<output>systems/thermal/thermal-stress</output>
  		</pid>


		<fcs_function name="systems/thermal/nose-temperature-F">
		<function>
			<sum>
				<product>
				<difference>
					<property>systems/thermal/nose-temperature-K</property>
					<value>273.15</value>
				</difference>
				<value>1.8</value>
				</product>
				<value>32.0</value>
			</sum>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/nose-temperature-F-hundreds">
		<function>
			<integer>	
				<quotient>
					<property>systems/thermal/nose-temperature-F</property>
					<value>100.0</value>
				</quotient>
			</integer>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/nose-temperature-F-indicated">
		<function>
			<product>
			<value>100.0</value>
			<table>
				<independentVar lookup="row">systems/thermal/nose-temperature-F-hundreds</independentVar>
				<tableData>
					-1.0		0.0
					0.0		0.0
					9999.0		9999.0
					10000.0		9999.0
				</tableData>
			</table>
			</product>
		</function>
		</fcs_function>


		<fcs_function name="systems/thermal/plasma-T-factor">
		<function>
			<min>
			<max>
			<quotient>
				<difference>
					<property>systems/thermal/nose-temperature-F</property>
					<value>2000.0</value>
				</difference>
				<value>1000.0</value>
			</quotient>
			<value>0.0</value>
			</max>
			<value>1.0</value>
			</min>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/plasma-ambience-red">
		<function>
			<product>
			<sum>
				<product>
					<property>systems/thermal/plasma-T-factor</property>
					<value>1.0</value>
				</product>
				<product>
					<difference>
						<value>1.0</value>
						<property>systems/thermal/plasma-T-factor</property>
					</difference>
					<value>0.8</value>
				</product>
			</sum>
			<value>0.15</value>
			<property>systems/thermal/plasma-T-factor</property>
			</product>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/plasma-ambience-green">
		<function>
			<product>
			<sum>
				<product>
					<property>systems/thermal/plasma-T-factor</property>
					<value>0.5</value>
				</product>
				<product>
					<difference>
						<value>1.0</value>
						<property>systems/thermal/plasma-T-factor</property>
					</difference>
					<value>0.4</value>
				</product>
			</sum>
			<value>0.15</value>
			<property>systems/thermal/plasma-T-factor</property>
			</product>
		</function>
		</fcs_function>

		<fcs_function name="systems/thermal/plasma-ambience-blue">
		<function>
			<product>
				<difference>
					<value>1.0</value>
					<property>systems/thermal/plasma-T-factor</property>
				</difference>
				<value>0.4</value>
				<value>0.15</value>
				<property>systems/thermal/plasma-T-factor</property>
			</product>
		</function>
		</fcs_function>


		


		<fcs_function name="systems/thermal/entry-flame-alpha">
		<function>
			<max>
			<product>
			<difference>
			<product>
				<property>systems/thermal/nose-temperature-F</property>
				<value>0.001</value>
			</product>
			<value>2.0</value>
			</difference>
			<value>0.1</value>
			</product>
			<value>0.01</value>
			</max>
		</function>
		</fcs_function>

		<switch name="systems/various/srb-burning">
			<default value="0.0"/>
			<test value="1.0">
				propulsion/engine[3]/thrust-lbs GT 100
			</test>
		</switch>	
		
		<kinematic name="systems/various/srb-flame-alpha">
			<input>systems/various/srb-burning</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>4.0</time>
				</setting>
			</traverse>
			<output>systems/various/srb-flame-alpha</output>
		</kinematic>

		<fcs_function name="systems/various/srb-flame-trail-alpha">
		<function>
			<product>
				<property>systems/various/srb-flame-alpha</property>
				<value>0.25</value>
			</product>
		</function>
		</fcs_function>

		


		<fcs_function name="systems/various/oms-flame-density">
		<function>
		<product>
			<value>0.5</value>
			<quotient>
			<max>
				<property>propulsion/engine[5]/thrust-lbs</property>
				<property>propulsion/engine[6]/thrust-lbs</property>
			</max>
			<value>6000.0</value>
			</quotient>
		</product>
		</function>			
		</fcs_function>

		<fcs_function name="systems/various/strake-density">
		<function>
			<product>
				<min>
				<max>
				<product>
					<difference>
						<property>aero/alpha-deg</property>
						<value>6.0</value>
					</difference>
					<value>0.05</value>
				</product>
				<value>0.0</value>
				</max>
				<value>0.2</value>
				</min>
				<min>
				<max>
				<product>
					<difference>
						<property>/velocities/airspeed-kt</property>
						<value>180.0</value>
					</difference>
					<value>0.05</value>
				</product>
				<value>0.0</value>
				</max>
				<value>1.0</value>
				</min>
			</product>
		</function>			
		</fcs_function>

	<!-- force on the drag chute -->

		<fcs_function name="systems/various/drag-chute-force-norm">
		<function>
			<table>
		 		<independentVar lookup="row">/velocities/airspeed-kt</independentVar>
                  		<tableData>
					20.0	0.5
					60.0	0.7	
					130.0	1.0
					230.0	2.0		
					250.0	2.0
                  		</tableData>
         		</table>
		</function>
		</fcs_function>

		<fcs_function name="systems/various/oms-fuel-fraction">
		<function>
			<quotient>
				<property>/consumables/fuel/tank[4]/level-lbs</property>
				<value>7773.0</value>
			</quotient>
		</function>
		</fcs_function>

	<!-- This is the wing bending moment from Carl F. Ehrlich, 'Why the Wings stay on' -->

		<fcs_function name="systems/various/wing-bending-moment">
		<function>
		<product>
	    		<property>aero/qbar-psf</property>
           		<property>metrics/Sw-sqft</property>
           		<property>metrics/bw-ft</property>
			<table>
                  		<independentVar lookup="row">aero/alpha-deg</independentVar>
		 		<independentVar lookup="column">velocities/mach</independentVar>
                  		<tableData>
		            		0.9	1.1	1.3	1.4
				-6.0	-0.01	-0.009	-0.0055	-0.0045
				-2.0	0.0001	0.00015	0.008	0.008
				0.0	0.005	0.009	0.014	0.014
				4.0	0.013	0.019	0.021	0.02
				6.0	0.015	0.023	0.025	0.024			
                  		</tableData>
         		</table>
		</product>
		</function>	
		</fcs_function>

		<fcs_function name="systems/various/cg-percentage">
		<function>
			<product>
			<quotient>
				<sum>
					<value>67.0</value>
					<product>
						<property>inertia/cg-x-in</property>
						<value>0.083</value>
					</product>
				</sum>
				<value>114.8</value>
			</quotient>
			<value>100.0</value>
			</product>
		</function>
		</fcs_function>

		<kinematic name="systems/various/debris-separation">
			<input>systems/various/debris-separation-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>60.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/qbar-limit-entry">
		<function>
			<table>
				<independentVar lookup="row">velocities/mach</independentVar>
				<tableData>
					0.0	375.0
					2.5	375.0
					4.0	375.0
					10.0	270.0
					14.0	150.0
					22.0	100.0
					24.0	40.0
					100.0	40.0
				</tableData>
			</table>
		</function>
		</fcs_function>
		
		<!-- sounds -->

		<fcs_function name="systems/various/cabin-sound-transmission">
		<function>
			<quotient>
				<property>systems/eclss/cabin/air-pressure-psi</property>	
				<value>14.7</value>
			</quotient>
		</function>
		</fcs_function>

		<fcs_function name="systems/various/cabin-airflow-volume">		
		<function>
			<product>
			<min>
			<product>
			<sum>
				<property>systems/eclss/cabin/air-gain-rate-lb_h</property>
				<product>
					<value>-1</value>
					<property>systems/eclss/cabin/air-loss-rate-lb_h</property>
				</product>
			</sum>
			<value>0.0015</value>
			</product>
			<value>1.0</value>
			</min>
			<property>systems/various/cabin-sound-transmission</property>
			</product>
		</function>
		</fcs_function>
		
		<fcs_function name="systems/various/SRB-external-volume">
		<function>
			<product>
				<min>
				<product>
				<property>/engines/engine[3]/thrust_lb</property>
				<value>0.0001</value>
				</product>
				<value>1.0</value>
				</min>
				<quotient>
					<property>/environment/pressure-inhg</property>
					<property>/environment/pressure-sea-level-inhg</property>
				</quotient>
			</product>
		</function>
		</fcs_function>

		<fcs_function name="systems/various/SSME-rampup-volume">
		<function>
			<product>
				<value>510000.0</value>
				<property>/sim/config/shuttle/prelaunch-flag</property>
				<property>systems/various/ssme-flame-density</property>
			</product>
		</function>
		</fcs_function>

		<fcs_function name="systems/various/SSME-base-volume">
		<function>
			<max>
				<property>/engines/engine[0]/thrust_lb</property>
				<property>/engines/engine[1]/thrust_lb</property>
				<property>/engines/engine[2]/thrust_lb</property>
				<property>systems/various/SSME-rampup-volume</property>
			</max>
		</function>
		</fcs_function>
		
		<fcs_function name="systems/various/SSME-external-volume">
		<function>
			<product>
				<min>
				<product>
				<property>systems/various/SSME-base-volume</property>
				<value>0.01</value>
				</product>
				<value>1.0</value>
				</min>
				<quotient>
					<property>/environment/pressure-inhg</property>
					<property>/environment/pressure-sea-level-inhg</property>
				</quotient>
			</product>
		</function>
		</fcs_function>
		
		<!--Wind -->
		
		<fcs_function name="systems/various/atmosphere-sound-transmission">
		<function>
			<quotient>
				<property>/environment/pressure-inhg</property>
				<property>/environment/pressure-sea-level-inhg</property>
			</quotient>
		</function>
		</fcs_function>
		
		<switch name="systems/various/sound-transmission">
			<default value="1.0"/>
			<test value="systems/various/atmosphere-sound-transmission">
				/sim/current-view/internal == 0
			</test>
		</switch>	
		
		<switch name="systems/various/sound-damping-factor">
			<default value="0.2"/>
			<test value="1.0">
				/sim/current-view/internal == 0
			</test>
		</switch>	

		<fcs_function name="systems/various/wind-volume">
			<function>
				<min>
				<product>
					<quotient>
						<property>aero/qbar-psf</property>
						<value>400</value>
					</quotient>
					<property>systems/various/sound-transmission</property>
					<property>systems/various/sound-damping-factor</property>
				</product>
				<value>1.0</value>
				</min>
			</function>
		</fcs_function>

		<!-- MMU -->

		<switch name="systems/various/MMU-sound-factor">
			<default value="0.0"/>
			<test logic="OR" value="1.0">
				systems/fcs/control-mode == 50
				systems/fcs/control-mode == 51
			</test>
		</switch>	
	

		<fcs_function name="systems/various/MMU-thruster-volume">
		<function>
			<min>
			<product>
				<property>systems/various/MMU-sound-factor</property>
				<sum>
					<abs><property>fcs/rudder-cmd-norm</property></abs>
					<abs><property>fcs/aileron-cmd-norm</property></abs>
					<abs><property>fcs/elevator-cmd-norm</property></abs>
				</sum>
			</product>
			<value>0.4</value>
			</min>
		</function>
		</fcs_function>


		<pid name="systems/various/hdotdot-ft_s2">
			<input>velocities/v-down-fps</input>
			<kp> 0.0 </kp>
			<ki> 0.0 </ki>
			<kd> 1.0</kd>
			<output>accelerations/hdotdot-ft_s2</output>
  		</pid>

	</channel>

	<channel name="SSME flame visuals" execrate="2">

		<fcs_function name="systems/various/ssme-flame-collimation">
		<function>
			<sum>
			<value>0.15</value>
			<product>
				<value>0.4</value>
				<difference>
				<value>1.0</value>
				<quotient>
					<property>/environment/pressure-inhg</property>
					<property>/environment/pressure-sea-level-inhg</property>
				</quotient>
				</difference>
			</product>
			</sum>
		</function>
		</fcs_function>

		<kinematic name="systems/various/ssme-ignition-density">
			<input>systems/various/ssme-ignition-density-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>2.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/ssme-flame-density">
		<function>
		<max>
		<product>
			<value>0.1</value>
			<quotient>
			<max>
				<!--<property>propulsion/engine[0]/thrust-lbs</property>-->
				<property>propulsion/engine[1]/thrust-lbs</property>
				<!--<property>propulsion/engine[2]/thrust-lbs</property>-->
			</max>
			<value>510000.0</value>
			</quotient>
		</product>
		<property>systems/various/ssme-ignition-density</property>
		</max>
		</function>			
		</fcs_function>

		<kinematic name="systems/various/ssme-ignition-density1">
			<input>systems/various/ssme-ignition-density-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>2.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/ssme-flame-density1">
		<function>
		<max>
		<product>
			<value>0.1</value>
			<quotient>
			<max>
				<property>propulsion/engine[2]/thrust-lbs</property>
			</max>
			<value>510000.0</value>
			</quotient>
		</product>
		<property>systems/various/ssme-ignition-density1</property>
		</max>
		</function>			
		</fcs_function>

		<kinematic name="systems/various/ssme-ignition-density2">
			<input>systems/various/ssme-ignition-density-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>2.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/ssme-flame-density2">
		<function>
		<max>
		<product>
			<value>0.1</value>
			<quotient>
			<max>
				<property>propulsion/engine[0]/thrust-lbs</property>
			</max>
			<value>510000.0</value>
			</quotient>
		</product>
		<property>systems/various/ssme-ignition-density2</property>
		</max>
		</function>			
		</fcs_function>


	</channel>


	<channel name="SSME ignition visuals" execrate="2" execute="/sim/config/shuttle/prelaunch-flag">



		<kinematic name="systems/various/ssme-flame-base-density">
			<input>systems/various/ssme-flame-base-density-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/ssme-flame-shock-frequency">
		<function>
			<sum>
				<value>0.1</value>
				<product>
				<value>0.5</value>
				<property>systems/various/ssme-flame-base-density</property>
				</product>
			</sum>
			<!--<difference>
				<value>1.5</value>
				<product>
				<property>systems/various/ssme-flame-base-density</property>
				<value>0.5</value>
				</product>
			</difference>-->
		</function>
		</fcs_function>

		<kinematic name="systems/various/ssme-noise-strength">
			<input>systems/various/ssme-noise-strength-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>2.0</time>
				</setting>
			</traverse>
		</kinematic>




		<kinematic name="systems/various/ssme-flame-r-low">
			<input>systems/various/ssme-flame-r-low-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-low">
			<input>systems/various/ssme-flame-g-low-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-low">
			<input>systems/various/ssme-flame-b-low-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-r-high">
			<input>systems/various/ssme-flame-r-high-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-high">
			<input>systems/various/ssme-flame-g-high-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-high">
			<input>systems/various/ssme-flame-b-high-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-r-base">
			<input>systems/various/ssme-flame-r-base-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-base">
			<input>systems/various/ssme-flame-g-base-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-base">
			<input>systems/various/ssme-flame-b-base-target</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<!-- again for center engine -->

		<kinematic name="systems/various/ssme-flame-base-density1">
			<input>systems/various/ssme-flame-base-density-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/ssme-flame-shock-frequency1">
		<function>
			<!--<difference>
				<value>1.5</value>
				<product>
				<property>systems/various/ssme-flame-base-density1</property>
				<value>0.5</value>
				</product>
			</difference>-->
			<sum>
				<value>0.1</value>
				<product>
				<value>0.5</value>
				<property>systems/various/ssme-flame-base-density1</property>
				</product>
			</sum>
		</function>
		</fcs_function>

		<kinematic name="systems/various/ssme-noise-strength1">
			<input>systems/various/ssme-noise-strength-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>2.0</time>
				</setting>
			</traverse>
		</kinematic>





		<kinematic name="systems/various/ssme-flame-r-low1">
			<input>systems/various/ssme-flame-r-low-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-low1">
			<input>systems/various/ssme-flame-g-low-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-low1">
			<input>systems/various/ssme-flame-b-low-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-r-high1">
			<input>systems/various/ssme-flame-r-high-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-high1">
			<input>systems/various/ssme-flame-g-high-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-high1">
			<input>systems/various/ssme-flame-b-high-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-r-base1">
			<input>systems/various/ssme-flame-r-base-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-base1">
			<input>systems/various/ssme-flame-g-base-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-base1">
			<input>systems/various/ssme-flame-b-base-target1</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

	<!-- again for left engine -->

		<kinematic name="systems/various/ssme-flame-base-density2">
			<input>systems/various/ssme-flame-base-density-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.0</time>
				</setting>
			</traverse>
		</kinematic>

		<fcs_function name="systems/various/ssme-flame-shock-frequency2">
		<function>
			<!--<difference>
				<value>1.5</value>
				<product>
				<property>systems/various/ssme-flame-base-density2</property>
				<value>0.5</value>
				</product>
			</difference>-->
			<sum>
				<value>0.1</value>
				<product>
				<value>0.5</value>
				<property>systems/various/ssme-flame-base-density2</property>
				</product>
			</sum>
		</function>
		</fcs_function>

		<kinematic name="systems/various/ssme-noise-strength2">
			<input>systems/various/ssme-noise-strength-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>2.0</time>
				</setting>
			</traverse>
		</kinematic>


		<kinematic name="systems/various/ssme-flame-r-low2">
			<input>systems/various/ssme-flame-r-low-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-low2">
			<input>systems/various/ssme-flame-g-low-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-low2">
			<input>systems/various/ssme-flame-b-low-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-r-high2">
			<input>systems/various/ssme-flame-r-high-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-high2">
			<input>systems/various/ssme-flame-g-high-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-high2">
			<input>systems/various/ssme-flame-b-high-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-r-base2">
			<input>systems/various/ssme-flame-r-base-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-g-base2">
			<input>systems/various/ssme-flame-g-base-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

		<kinematic name="systems/various/ssme-flame-b-base2">
			<input>systems/various/ssme-flame-b-base-target2</input>
			<traverse>
				<setting>
					<position>0.0</position>
					<time>0.0</time>
				</setting>
				<setting>
					<position>1.0</position>
					<time>1.5</time>
				</setting>
			</traverse>
		</kinematic>

	</channel>

</system>
